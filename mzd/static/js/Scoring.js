module.exports = { MakeVideoClip };

//min max 사이의 임의의 정수 생성하는 함수
function rand(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

// 830개의 스코어링 점수 배열 생성
let scoreList= []; //스코어링 점수 배열
let i;
for (i=0; i<830; i++) {
    scoreList.push(rand(50,90))
}
//estimated된 영상 길이 구하기
const VideoPlayTime= document.querySelector("#playtime")

VideoPlayTime.addEventListener('loadedmetadata', function() {
    if(window.localStorage.getItem(VideoPlayTime.duration)!=null){
    window.localStorage.setItem(VideoPlayTime.duration);
}
});

let value= null;
function addStorage(a){
    window.localStorage.setItem(a)
}

let index=0;

const scoreStart= document.querySelector("#scoreStart")
const scoreEnd= document.querySelector("#scoreEnd")
let score= null;

// https://offbyone.tistory.com/241 참고해서 짬

function printScore(){
    let score= scoreList[index++];
    document.querySelector("#scoreList").innerText=score;
}

let timer= null;

scoreStart.addEventListener("click",function(){
    printScore();
    timer=setInterval(printScore,1350);
});


scoreEnd.addEventListener("click",function(){
    if(timer!=null){
        clearInterval(timer)
    }
});


const scoreMaleMean=63.822214401137

let scorelistMale0=[79.07409232937748, 82.50852630037319, 80.83859525480732, 82.82321572386107, 82.10451036441836, 81.55427701954429, 80.46675689877603, 80.37624222648037, 79.75412561395977, 79.6008358059086, 79.57329485833695, 79.00265337516727, 79.62443623780737, 79.77344304570495, 80.06312336447704, 81.6330132741293, 82.99938249787876, 81.55606554047394, 79.7558398525602, 78.2605566047751, 73.94688514479623, 71.76876516335989, 71.92894937807063, 74.48178027632918, 74.48171752352448, 73.99199814283182, 74.00736268337178, 73.88008482756774, 71.6456079631156, 71.49970598812945, 70.50510440196079, 71.8169899965064, 71.48827437758013, 72.17231766504841, 72.50841344634836, 72.49137840339168, 72.67866266674926, 75.2072316605814, 77.9648131087342, 81.44242165526569, 83.81277407195287, 75.80974751466977, 69.58681233702224, 63.791765249294365, 58.45478393741616, 54.74298272306113, 50.69160404260647, 49.93597758331185, 49.18639702625475, 48.49914492476965, 48.78984394493755, 47.95523462545594, 46.764091047908636, 46.11689308454603, 45.81695605499128, 46.597378450854166, 46.01758070466044, 47.0211818475604, 46.79619274131404, 48.05568209285468, 46.87121604907236, 48.54625392642742, 47.64322415985889, 47.367976098414, 46.6453963618229, 47.60765519508276, 45.82757818796197, 46.04523513731982,
    44.038392907974334, 43.18532350597846, 43.758433187624185, 42.09449699430928, 39.16422318557263, 38.729261209757965, 38.181004253699754, 38.7041425597757, 38.64203038001716, 38.95781866122124, 39.670223822365394, 38.78549429943154, 39.28713506709615, 38.949571710906284, 40.90445172703555, 41.169761866872065, 42.517414410661544, 43.8728628983211, 44.58467922231639, 45.77652207720386, 45.52711877541309, 47.0949828920719, 46.1034532304426, 46.40918204650579, 46.40127602694195, 48.75832890002175, 50.28841152081596, 50.3971102272011, 49.999580037841504, 52.74336558360777, 53.097449044798736, 53.61164733176126, 54.11450132872045, 55.20364484554111, 55.30473713428961, 56.33093518204371, 55.97257605153701, 57.73630666937912, 59.56841618479893, 59.713481475238794, 56.98556333599197, 57.73394037562145, 56.73394000297697, 57.69758852062786, 55.0907030475947, 58.12650578918062, 56.082533255256365, 56.33251446886083, 59.32468342063207, 59.861958429404524, 59.688571138255234, 59.723698314842025, 62.14932597768342, 60.79352419337858, 62.14714376791069, 61.657241463313994, 65.6881821369234, 64.01273676955756, 68.81525236898486, 68.85563320197318, 70.79670886273988, 73.68850956771799, 72.88966484355913, 72.75640944245664, 68.660165783668, 69.48034903464728, 68.31727537190079, 69.45872990176653,
    71.5119342762847, 72.276314421282, 71.51992456302918, 72.57906325700405, 73.86011101048123, 72.65073825106876, 72.97178152407434, 73.24928717153959, 73.5647002431997, 73.47462366145153, 73.6337334836894, 73.21634934401918, 71.9410410786547, 74.62851507606806, 71.6931803075704, 73.89607831339359, 72.62320597718532, 73.86045871417546, 74.6061354229369, 74.84742369218013, 73.24546622841869, 74.22353070907073, 71.32584303689977, 72.34266901152341, 72.84927822328359, 71.58675447610625, 71.23006214727641, 71.58730897532777, 73.43261031364607, 76.09647580891908, 75.66094587558246, 77.41980779458561, 74.86935616369126, 75.09351718471811, 74.74192605286804, 74.6940442022071, 73.49730386321214, 73.0711525363223, 73.58116033661913, 75.10807892960145, 75.59561615011982, 74.45668846401013, 73.93015494273148, 74.40880658412561, 73.97123089588246, 74.10577312948374, 74.759407909105, 75.57016914540442, 75.32491543518731, 75.54628745401243, 77.67534023536169];



const scoreFemaleMean=81.65493729642502

let scorelistFemale0=[75.52321822246608, 71.03429871877138, 72.6946705364119, 70.14826501878909, 71.11825867435948, 71.90810539800154, 71.98030522852707, 71.60995712292919, 72.64325260943725, 72.24572531210501, 73.01279698828886, 73.27994471319933, 73.47050315845566, 73.47373149182236, 73.03731489265444, 73.1890693963162, 72.25480276940966, 73.22157313417952, 73.68733859635066, 73.9927066546704, 73.72797837276386, 74.89692021986231, 79.24424009074082, 79.33504528933649, 80.10127984082244, 81.35808411604312, 80.29689593689827, 79.69330145931876, 79.66391573339655, 80.06908196006783, 80.00410220229219, 81.25804804455534, 82.4817733756893, 82.84279296087529, 82.96742855850857, 83.21201804044193, 82.83525849813742, 84.17163184344768, 85.58458818341575, 86.29473956505244, 86.01398554421161, 76.69526808930244, 73.38754902272225, 70.31363609260379, 70.64644853806526, 68.97157102674335, 75.0972947581015, 81.49280298118435, 88.62266338768703, 90.56814058666338, 92.5080911730491, 92.75420633529363, 92.97397087080692, 94.49487862063414,
, 93.67294354214522, 93.06122557347166, 92.41365894293928, 91.03453887294708, 89.8407490896374, 89.68944080761634, 90.55750012224813, 89.83105970293673, 88.66687028681662, 88.71204336652313, 88.44518872967167, 87.44794648097789, 88.1667138333246, 88.04037293693675, 86.25523112370995, 87.49522319009904, 86.29512353656533, 87.48670166375155, 87.077345546195, 86.4370742125291, 86.33316665350168, 85.8785995292332, 86.62207023858184, 86.04129885464901, 85.31983815317143, 84.53510501106994, 83.70720885553152, 84.06041629043882, 83.71430312621159, 83.58809578415409, 84.16565876314449, 82.638243884547, 82.89372367923595, 83.47938204849044, 83.87582586987405, 84.75735873900057, 83.00114567473528, 80.28757622872673, 77.8447861044257, 74.28905414235577, 78.39623094509493, 78.61750795666923, 83.49430455436111, 86.86970799307667, 90.03096687412454, 89.9100536678639, 92.16556514478036, 90.85088154250138, 91.32594085023452, 90.83525184283991, 91.26837828414426, 91.52298189023163, 91.12046890561899, 91.11011409416413, 90.66753264327372, 89.22772167333483, 89.53085116441396, 89.35383523978201, 89.6953773483819, 87.22024355547254, 89.09181441975429, 88.62414871549393, 86.1653444439154, 85.59157470483765, 86.27513204262227, 85.85543721443621, 84.16075738075645, 86.55796286029266, 86.28711058967193, 86.17185061333234, 82.96080495826651, 77.4650727871468, 80.36094367161482, 78.4087107157988, 78.0931173725276, 77.47495642729469, 77.00058045380354, 79.37314855752426, 78.27290486166962, 78.44250181633194, 77.50876157180731, 79.53716654354697, 79.12104832348524, 79.8345954862707, 79.87994443318146, 80.73347554793799, 81.43199563272712, 81.5927147771795, 81.37203185423428, 81.87090269691925, 82.82377612118921, 82.6098408123538, 83.1293630605496, 83.31018655672939, 84.45974277932656, 79.2899956522458, 81.35020854837556, 78.09281486331493, 79.91163766346541, 77.938392716887, 77.54318906963108, 76.97463473431922, 77.74692549203354, 78.71537187655036, 82.03629299617847, 81.3055233277908, 82.21096498470703, 80.09577449168312, 78.36538578080464,
, 78.36868406816484, 78.0845883887062, 80.58046099743828, 79.75013746040537, 79.42462063069144, 76.87523352587905, 77.35648486819021, 77.40913225791738, 76.28824085913074, 76.4709895419363, 76.90642169985844, 75.56925865899143, 74.35840368251637, 74.4736230308655, 75.05877362779528, 74.50575343523897, 74.48502128626532, 75.48413692277016, 74.78208321049853, 73.42235290416842, 75.37966537926576, 77.6127781997248, 79.94630364489733, 81.71834683799565, 82.22969577039805, 81.95411731507045, 80.23290537695621, 80.4636177698253, 76.15040124115687]; 



//출처: https://www.phpschool.com/gnuboard4/bbs/board.php?bo_table=qna_html&wr_id=292171

var r=1;

const classVideo=function{
    document.getElementById("classvideo")
    if(window.addEventListener){
    window.addEventListener('load', function(){
        if(window.HTMLVideoElement){
            var player = document.getElementById('player');
            player.addEventListener("ended", function(){
                // 동영상 재생이 끝나면 실행될 코드\
                if (r<4){
                    r=r+1;
                    if(player.canPlayType("video/mp4")){
                        player.src = "https://mztod.s3.ap-northeast-2.amazonaws.com/practice_LoveDive_0.mp4";
                        if(){
                            alert("당신의 점수는 ",scoreMaleMean,"입니다. 다시 도전하세요!")
                            player=player.src = "https://mztod.s3.ap-northeast-2.amazonaws.com/practice_LoveDive_0.mp4"
                        }
                        if(scoreFemaleMean>80){
                            alert("당신의 점수는 ",scoreFemaleMean,"입니다. 축하합니다 다음 동작으로 넘어가세요")
                            player=player.src = "https://mztod.s3.ap-northeast-2.amazonaws.com/practice_LoveDive_0.mp4"
                        }
                        

                    }
                    player.play();
                }
            });
        }
    }, false);
    }
};